
<div class=" content">
  <div class=" row">
    <div class=" col-12">
      <button routerLink="/nuevoviaje" class=" btn btn-link" type="button" >
        Nuevo viaje
      </button>
    </div>
  </div>

    <div class="row" *ngFor="let categoria of todosViajes | keyvalue">
      <div class="col-12" *ngIf="categoria.value.length > 0">
        <h3>{{categoria.key}}</h3>
      </div>

      <div class="col-12 col-md-6" *ngFor="let viaje of categoria.value">
        <div class=" card card-stats ">
          <div *ngIf="viaje.data.foto != undefined" class="crop" >
            <p>Foto por <a href="{{viaje.data.foto.links.html}}" target="_blank">{{viaje.data.foto.user.name}}</a> on <a href="https://unsplash.com/?utm_source=Pro.Bote&utm_medium=referral" target="_blank">Unsplash</a></p>
            <img src="{{viaje.data.foto.urls.full}}" class="" style="border-bottom-right-radius: 0rem; border-bottom-left-radius: 0rem;object-fit: cover;">
          </div>
          <style>
            .crop a{
              color: wheat;
            }
            .crop{
              position: relative;
              width: 100%;
              height: 200px;
              overflow: hidden;}
            .crop p{
              bottom: 0;
              right: 0;
              padding-right: 1rem;
              position: absolute;
              z-index: 2;
            }
            .crop img {
              position: absolute;
              left: 50%;
              top: 50%;
              width: auto;
              -webkit-transform: translate(-50%,-50%);
              -ms-transform: translate(-50%,-50%);
              transform: translate(-50%,-50%);
            }
          </style>

          <div class=" card-body">
            <div class=" row">
              <div class=" col-12">
                <p class=" cart-title">{{viaje.data.descripcion}} <span *ngIf="viaje.data.borrado" class="label label-primary">Pendiente de borrar</span></p>
                <p class=" card-description">Fechas: {{viaje.data.fechasInicio}} -> {{viaje.data.fechasFin}}
                </p>
                <p class=" card-category">Usuarios:
                  <span *ngFor="let usuario of viaje.data.permitidos | keyvalue">
                    {{usuario.value["nombre"]}}
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class=" card-footer">
            <hr>
            <div class=" stats" routerLink="/viaje/{{viaje.id}}">
              <i class=" tim-icons icon-sound-wave"></i> Acceder partida </div>
          </div>
        </div>
      </div>







  </div>



</div>
